const loginLink = document.querySelector(".button-contact"), loginPopup = document.querySelector(".modal-letter"), loginClose = loginPopup.querySelector(".modal-close"), loginForm = loginPopup.querySelector(".form-letter"), loginName = loginPopup.querySelector(".user-name"), loginMail = loginPopup.querySelector(".user-mail"); let isStorageSupport = !0, storage = ""; try { storage = localStorage.getItem("login") } catch (o) { isStorageSupport = !1 } loginLink.addEventListener("click", function (o) { o.preventDefault(), loginPopup.classList.add("modal-show"), storage ? (loginName.value = storage, loginMail.focus()) : loginName.focus() }), loginClose.addEventListener("click", function (o) { o.preventDefault(), loginPopup.classList.remove("modal-show"), loginPopup.classList.remove("modal-error") }), loginForm.addEventListener("submit", function (o) { loginName.value && loginMail.value ? isStorageSupport && localStorage.setItem("name", loginName.value) : (o.preventDefault(), loginPopup.classList.remove("modal-error"), loginPopup.offsetWidth = loginPopup.offsetWidth, loginPopup.classList.add("modal-error")) }), window.addEventListener("keydown", function (o) { 27 === o.keyCode && loginPopup.classList.contains("modal-show") && (o.preventDefault(), loginPopup.classList.remove("modal-show"), loginPopup.classList.remove("modal-error")) }); const mapLink = document.querySelector(".contact-map"), mapPopup = document.querySelector(".modal-map"), mapClose = mapPopup.querySelector(".modal-close"); mapLink.addEventListener("click", function (o) { o.preventDefault(), mapPopup.classList.add("modal-show") }), mapClose.addEventListener("click", function (o) { o.preventDefault(), mapPopup.classList.remove("modal-show") }), window.addEventListener("keydown", function (o) { 27 === o.keyCode && mapPopup.classList.contains("modal-show") && (o.preventDefault(), mapPopup.classList.remove("modal-show")) });
